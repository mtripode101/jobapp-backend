# Actuator
management.metrics.tags.application=jobapp-web
management.endpoints.web.exposure.include=health,info,metrics,env,loggers,prometheus
management.endpoint.health.show-details=always
management.endpoint.metrics.enabled=true
management.endpoint.prometheus.enabled=true


management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.percentiles.http.server.requests=0.5,0.95,0.99


# Opcional: puerto distinto para management
# management.server.port=8081

# DevTools ajustes
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true
# excluir carpetas pesadas si hace falta
spring.devtools.restart.exclude=static/**,public/**,templates/**


# Fields to mask in logs (comma-separated, lower/upper case ignored)
logging.sensitive.fields=password,token,secret,email,phone,ssn

# Log levels
logging.level.com.mtripode.jobapp=DEBUG
logging.level.com.mtripode.jobapp.logging=DEBUG

# Console pattern with timestamp, level, logger and message
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} %-5level %logger{36} - %msg%n

# Optional: reduce noise from Spring internals in dev
logging.level.org.springframework=INFO
logging.level.org.hibernate=INFO

# Cache tipo
spring.cache.type=redis

# Configuraci√≥n de Redis (usar el prefijo correcto)
#spring.data.redis.host=localhost
#spring.data.redis.host=redis
#spring.data.redis.port=6379
spring.data.redis.password=
spring.data.redis.timeout=60000

spring.data.redis.host=${SPRING_REDIS_HOST:localhost}
spring.data.redis.port=${SPRING_REDIS_PORT:6379}

# Mongo (fallback local)
spring.data.mongodb.uri=${SPRING_DATA_MONGODB_URI:mongodb://localhost:27017/jobapp_mongo}

# Note service base URL (fallback local)
note.service.base-url=${NOTE_SERVICE_URL:http://localhost:8082/notes}


memcached.host=localhost
memcached.port=11211
memcached.timeout=5000